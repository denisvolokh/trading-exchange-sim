<div
    id="orderbook"
    hx-get="/ui/orderbook"
    hx-trigger="sse:update, sse:trade"
    hx-swap="outerHTML"
    class="sse-reactive max-w-3xl mx-auto bg-white shadow-md rounded-lg p-6 border border-gray-200"
    hx-vals="js:{ ts: Date.now() }"
>
    <h2 class="text-2xl font-bold text-center mb-4 text-gray-700">
        ðŸ“ˆ Live Order Book
    </h2>

    <div class="grid grid-cols-2 gap-6">
        <!-- Buy Orders -->
        <div>
            <h3
                class="text-xl font-semibold text-green-600 border-b border-green-300 pb-1 mb-2"
            >
                Buy Orders
            </h3>
            <ul class="space-y-1">
                {% for order in bids %}
                <li
                    class="flex justify-between bg-green-50 px-3 py-1 rounded transition"
                    data-order-id="{{ order.order_id }}"
                    id="order-{{ order.order_id }}"
                >
                    <span>{{ order.quantity }}</span>
                    <span>@ {{ order.price }}</span>
                </li>
                {% endfor %} {% if not bids %}
                <li class="text-gray-400 italic">No buy orders</li>
                {% endif %}
            </ul>
        </div>

        <!-- Sell Orders -->
        <div>
            <h3
                class="text-xl font-semibold text-red-600 border-b border-red-300 pb-1 mb-2"
            >
                Sell Orders
            </h3>
            <ul class="space-y-1">
                {% for order in asks %}
                <li
                    class="flex justify-between bg-red-50 px-3 py-1 rounded transition"
                    data-order-id="{{ order.order_id }}"
                    id="order-{{ order.order_id }}"
                >
                    <span>{{ order.quantity }}</span>
                    <span>@ {{ order.price }}</span>
                </li>

                {% endfor %} {% if not asks %}
                <li class="text-gray-400 italic">No sell orders</li>
                {% endif %}
            </ul>
        </div>
    </div>
</div>
